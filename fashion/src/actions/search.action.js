import { GET_SEARCH_RESULT } from './actionTypes';
import axios from 'axios';

let axiosConfig = {
  headers: {
      'Content-Type': 'application/json;charset=UTF-8',
      "Access-Control-Allow-Origin": "*",
  }
};

export const getSearchResult = (searchParams) => async dispatch => {
    let res;
    if (searchParams["searchType"] === "text") {
        res = await axios.post(`http://0.0.0.0:5000/api/searchText`, searchParams);
    } else {
        res = await axios.post(`http://0.0.0.0:5000/api/searchImage`, searchParams, axiosConfig);
    }

    dispatch({
        type: GET_SEARCH_RESULT,
        payload: {
            searchResults: {"response": res.data, "searchType": searchParams.searchType},
            // searchResults: {"response": [{'itemid': 6017827599, 'brand': 'No ', 'price': 35646811290.0, 'price_before_discount': 0.0, 'currency': 'VND', 'raw_discount': 0.0, 'item_rating': 0.0, 'liked_count': 2583, 'name': 'bộ thể thao chất mát mịn dáng rộng', 'shopid': 121381754, 'options': "{'màu': ['đen', 'trắng', 'hồng', 'xám']}", 'sex': 'female', 'categories': ['Thời Trang Nữ', 'Trang phục thể thao', 'Bộ đồ tập'], 'description': 'bộ thể thao dáng dài áo rộng họa tiết chữ MSHA\n🔴Thông tin sản phẩm\n- họa tiết: trơn\n- Màu sắc:hồng đen trắng xám\n- Size: free size\n- Chất liệu :thun\n- Độ co giãn: Vừa\n- Form: Dáng dài\n⚜️Phong cách khỏe khoắn\n—————————————————\n🔴Form 56kg đổ lại Tuỳ chiều cao, nên các chị inbox cho shop cụ thể để được tư vấn size phù hợp với dáng người nhé. \n(Lưu ý: Sản phẩm không kèm các phụ kiện Hoa, nơ, đai…)\n\n⏭Cam kết hàng chuẩn như hình, Khách hàng thanh toán tại nhà, ship COD toàn quốc\n⏭1 Đổi 1 trong vòng 4 ngày nếu có bất cứ lỗi nào của shop \n⏭Giao hàng toàn quốc chỉ từ 2-4 ngày\n\n🔴QUY ĐỊNH BẢO HÀNH, ĐỔI TRẢ\n- Luôn hỗ trợ đổi trả hàng hóa theo đúng quy định của Shopee ( trong 3 ngày kể từ khi KH nhận sản phẩm)\n- Đổi trả các trường hợp sau: Sản phẩm hỏng do lỗi sản xuất., Giao thiếu hàng, sai mẫu, sai màu với đơn đặt hàng của KH.\n- Điều kiện đổi trả không hợp lệ : \n+ Quá 3 ngày theo quy định của shopee\n+ Không có video chứng minh sản phẩm lỗi, giao sai, giao thiếu\n+ Không thích, đặt nhầm màu, nhầm size.\n+ Sản phẩm hoàn lại cho shop bị hư hỏng/ mất tem mác/ đã qua sử dụng/ đã giặt.\n+ Sản phẩm hoàn lai cho shop không phải là hàng của ALDORE , không đủ bộ, số lượng theo đơn hàng đã đặt.\n----------------------------------------------------------------------\n▪️Items hottrend mới nhất 2019\n▪️Chất liệu dày dặn, đường may 2 lượt.\n▪️Hàng thiết kế \n#vayxeply #vaythietke #vayvoan #vayvoan2lop #vayxeptang #vaydep #vaythietkedep #vayxeply #vaytangdep #anhthat \n➖➖➖➖➖➖➖➖➖➖', 'post_url': 'https://shopee.vn/shopee-i.121381754.6017827599', 'images': ['full/815eddcda850f2a907677d09a3d2f421bfa44c32.jpg', 'full/94be3aeb9be81aef4e9493511c2e8cb6a3d2ec28.jpg', 'full/f18aa7549d187b78f901071464efab8027f6bc50.jpg', 'full/018725e45d8a6769ab233491381e52c73a1e0b9e.jpg', 'full/e0bd01d74a40c4a51f5a4b7ac9a13bd26e67468f.jpg', 'full/bbbd3ac5f9efcf5202210ddc14017af0f14fc40d.jpg', 'full/d628ce58270fbc6b8c3834a5947e7fab3017bd94.jpg'], 'platform': 'shopee.vn', 'id': '9574903a-973f-4c08-99e3-39a227761455', '_version_': 1668745362481872898, 'shop_info': {'shopid': 121381754, 'follower_count': [43700], 'name': 'haiquang_chuyensi', 'rating_star': 4.646024, 'shop_location': ['Quận Cầu Giấy, Hà Nội'], 'platform': 'shopee.vn', 'name_tokenized': ['haiquang_chuyensi'], 'id': '3087022a-64c1-4f8b-8bc6-c30acc8950f6', '_version_': 1667547074529329155}}, {'itemid': 27556634, 'price': 119000.0, 'price_before_discount': 119000.0, 'currency': 'VND', 'raw_discount': 0.0, 'item_rating': 4.5, 'liked_count': 0, 'name': 'BỘ THUN THỂ THAO THÊU CHỮ  SIZE 45KG ĐẾN 70KG', 'shopid': 272802, 'options': "{'Màu sắc': ['Vàng', 'Đen', 'Hồng', 'Đỏ'], 'Kích thước': ['M', 'XL', '2XL']}", 'sex': 'female', 'categories': ['Thời trang nữ', 'Đồ mặc nhà, đồ ngủ', 'Đồ bộ, pijama nữ mặc nhà'], 'post_url': 'https://www.sendo.vn/bo-thun-the-thao-theu-chu-size-45kg-den-70kg-27556634.html/', 'images': ['full/d3f5834f5e897ed1c15309bde0344204ee7bd866.jpg', 'full/1d526338593f9abb1eab6111fa3726eb1ae4b8b2.jpg', 'full/58d0bd31809db3c17a300eb4dc20d1425f52f84b.jpg', 'full/ac2e0a3653beca1c2fd1671e4f63e27f088e3d30.jpg', 'full/5bed66cdc499aac4aa5c63a2504ab5621720247f.jpg', 'full/b3a4b7426c28a334bd668397b4d9a9658a1ac064.jpg', 'full/71cb8664122777f53b82b0e9203098df64572e9d.jpg'], 'description': ' THUỘC TÍNH SẢN PHẨM Chất vải: Cotton thun. Chiều dài tay áo: Tay ngắn. Kiểu cổ áo: Cổ tròn. Họa tiết: Ký tự. CHI TIẾT SẢN PHẨM 🍁Chất liệu : Thun cotton 100% dày mịn , hàng cao cấp loại 1, co giãn thoải mái 🍁Kiểu dáng trẻ trung,độc đáo, mới lạ, sang trọng , thanh lịch, áo croptop, quần thể thao lưng thun 🍁Màu sắc: đen, đỏ, hồng, vàng 🍁Size : M dưới 52kg , L dưới 58kg, XL dưới 64kg, XXL dưới 70kg tùy chiều cao . Zalo 0938311197 Địa chỉ: 47 tam bình. Phường Hiệp Bình chánh, thủ đức 2. Shop cam kết - Được xem hàng bộ đồ thun trước khi thanh toán - Sản phẩm giống hình 98% (2% chênh lệch màu sắc do yếu tố khách quan như ánh sáng, nhập/ may 2 lô sản phẩm sẽ dễ có tình trạng chênh lệch màu) - Được đổi trả khi mặc không vừa, hoặc vì quá thích click không kịp chọn size số phù hợp - Giao hàng và thanh toán sau khi kiểm tra sản phẩm Lưu ý Tuy nhiên, chị em cũng giúp shop suy nghĩ kỹ trước khi quyết định bấm mua hàng nhé, để tránh tình trạng đổi ý vì bất kì lí do gì. Hihi. Bởi vì khi hủy đơn không chỉ tội cho nhân viên giao hàng tốn sức chạy, tốn tiền gọi giao mà cũng tội cho shop tốn phí ship, bị điểm phạt giao hàng không thành công, dẫn đến nguy cơ cấm bán hàng chị em nhé! Shop Thiên Kim cam kết chất lượng mặt hàng tương đương giá tiền, đảm bảo giá cả cạnh tranh nhất nhì thị trường. Chị em cũng đừng vội nhìn vào hình ảnh sản phẩm của các shop mà qui đồng chung, sao chổ khác rẻ hơn, vì chất lượng đi kèm giá tiền. Kiểu dáng thì giống nhau, nhưng chất liệu, chất lượng kèm dịch vụ khác nhau Shop Thiên Kim có sản phẩm đa dạng đồ bộ mặc nhà, đồ bộ thể thao , đầm váy , áo thun, áo sơ mi ...từ thấp, trung bình, đến cao, phù hợp mọi túi tiền mọi chị em luôn, nên cân nhắc kĩ chọn loại sản phẩm ưng ý, hoặc chat ngay để shop hỗ trợ về thông tin hình ảnh thật chính xác và tốt hơn 3. Gợi ý khi nhận sản phẩm Kiểm tra sản phẩm bộ đồ thun xem có lỗi không Thử xem có vừa vặn không Giặt tay riêng với các loại quần áo khác, nhất là sản phẩm có màu đen, đỏ Không giặt hoặc ngâm xà phòng ngay trong lần đầu tiên Nên giặt trước khi mặc nhằm tránh dị ứng bụi chỉ cho làn da nhạy cảm nhất Dò cắt các đường chỉ công nghiệp thừa khi may để khi mặc trông tươm tất đẹp hơn 4. Hướng dẫn mua hàng - B1: CLick "Thêm vào giỏ hàng" khi ưng ý sản phẩm - B2: chọn màu, size sản phẩm (muốn chọn hơn 1 sp thì click tăng số lượng sản phẩm, muốn chọn 2 màu khác nhau, bạn chịu khó quay trở ra thao tác lại thêm vào giỏ hàng) B3: Kiểm tra số lượng, màu sản phẩm trước khi bấm thanh toán. B4: Kiểm tra thông tin địa chỉ người nhận (quan trọng nhất là bạn chọn số điện thoại trùng khớp với số điện thoại đăng kí tài khoản của bạn để được hỗ trơ về phí ship từ 20 đến 50k tùy chương trình - tiết kiệm để dành tiền mua sản phẩm yêu thích khác nhé) B5: Note thêm cho nhà bán hàng hoặc shipper như: giao gấp; giao giờ hành chính; nhớ ưu đãi thêm, ....trước khi hoàn thành bước cuối cùng để tiến hành đặt hàng thành công 5. Thông tin thêm Mọi thắc mắc hay cần hỗ trợ về hình ảnh, thông số sản phẩm, chọn size số vui lòng liên hệ theo thông tin SHOP THỜI TRANG THIÊN KIM 47 đường Tam Bình, phường Hiệp Bình Chánh, Thủ Đức Dt - Zalo 0938311197 #damomdo #damombody #damom ', 'platform': 'sendo.vn', 'id': '6225e0f4-65ee-4c21-beff-6e669c0067ce', '_version_': 1668745367242407937, 'shop_info': {'shopid': 272802, 'name': 'ngauhungshop', 'shop_location': ['Hồ Chí Minh'], 'rating_star': 4.6, 'platform': 'sendo.vn', 'name_tokenized': ['ngauhungshop'], 'id': 'ec87b996-07f3-4f23-b94b-f91794b17fdb', '_version_': 1667547074829221889}}, 
            // {'itemid': 1879378780, 'brand': '0', 'price': 34659064375.0, 'price_before_discount': 0.0, 'currency': 'VND', 'raw_discount': 0.0, 'item_rating': 0.0, 'liked_count': 482, 'name': 'Hàng đẹp lại có sẵnAó khoác dạ nữ phong cách Hànasdasdasdadsasdasdadadds', 'shopid': 122465624, 'options': "{'Vari': ['ĐENS', 'HỒNGS', 'ĐENM', 'HỒNGM', 'ĐENL', 'HỒNGL']}", 'sex': 'female', 'categories': ['Thời Trang Nữ', 'Áo khoác & Áo vest', 'Áo khoác dạ'], 'description': '-  Đơn hàng đặt trước 16h sẽ được giao cùng ngày làm việc, sau 16h sẽ giao vào ngày làm việc tiếp theo\n- Mọi thắc mắc về phí ship QK vui lòng liên hệ tổng đài shopee 19001221 để được giải thích thêm.\n- QK đặt hàng vui lòng chú ý đt để bưu tá gọi giao hàng giúp shop nhé.\n-  Đơn hàng đặt trước 16h sẽ được giao cùng ngày làm việc, sau 16h sẽ giao vào ngày làm việc tiếp theo\n- Mọi thắc mắc về phí ship QK vui lòng liên hệ tổng đài shopee 19001221 để được giải thích thêm.\n- QK đặt hàng vui lòng chú ý đt để bưu tá gọi giao hàng giúp shop nhé. \n MOON SHOP đưa đến quí khách Top những mẫu áo khoác mới nhất .\n\n  Bộ sưu tập áo khoác dạ nữ mới nhất mùa thu đông năm nay, chắc chắn sẽ mang lại sự hài lòng cho quý khách hàng.\n\n Thời trang thu đông không thể thiếu những chiếc áo Vest, áo khoác dạ lịch sự và sang trọng, tạo phong cách làm việc chuyên nghiệp, cũng như thể hiện cá tính của bản thân. Bộ sưu tập mẫu áo khoác dạ với những thiết kế trang nhã, điểm nhấn tinh tế, kết hợp phụ kiện trang sức độc đáo tạo sự ấn tượng và quyến rũ cho phái đẹp.\n\n       \n Hài lòng về shop hãy khích lệ shop 5 sao nha b\nQuý Khách hãy "THẢ TIM" cho sản phẩm để nhận được Khuyến mãi ạ ~~\n Nhấn "THEO DÕI" Shop để thường xuyên cập nhật các sản phẩm mới nhất với giá ưu đãi"\nSản phẩm shop bán đảm bảo giống hình\nCảm ơn sự hợp tác và ủng hộ của bạn với shop\n#aokhoacnu #aodanu #aokhoacnudangdai #aodanuhanquoc', 'post_url': 'https://shopee.vn/shopee-i.122465624.1879378780', 'images': ['full/9b441ff2ebb63e6c8508b820fff33794b290ea63.jpg', 'full/efb294c355390b130b5c477f784dd45d48bce134.jpg', 'full/e4b77f7e515d172931d1edbaacad635ed642ebca.jpg', 'full/4ff6110994067e0fde2c06e8d05bb652704c6e2b.jpg', 'full/478304a5c462067bdb2e9ec2099d6fe9e01a0f3d.jpg', 'full/7f04d3988da3d29553386e1773688811bd360726.jpg', 'full/8f42b51a3fbcecf83665c2309712b2f6c06a8fcd.jpg', 'full/318a22c357ebcb9565ca638ebf4ee5f55d11805a.jpg', 'full/ed8f9f620f247dd3fec4c0922faaf983b2be9367.jpg'], 'platform': 'shopee.vn', 'id': '9f3a4e0e-ffd3-4187-9ddf-a747ede70e7f', '_version_': 1668745364755185664, 'shop_info': {'shopid': 122465624, 'follower_count': [26774], 'name': 'phongcachthoitrang238', 'rating_star': 4.892413, 'shop_location': ['Quận Hai Bà Trưng, Hà Nội'], 'platform': 'shopee.vn', 'name_tokenized': ['phongcachthoitrang238'], 'id': '9d1dc838-e586-4eaf-bbc8-72230ba69d01', '_version_': 1667547074668789770}}], "searchType": searchParams.searchType},
            searchParams: searchParams
        }
    })
}
